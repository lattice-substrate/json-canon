# Adversarial Conformance Audit - json-canon (Go rewrite)

Date: 2026-02-21
Scope: RFC 8785 + RFC 8259 (2-10) + RFC 7493 (2) + RFC 3629 + ECMA-262 6.1.6.1.20 + stable CLI ABI policy

## 1) Findings table (primary)

| Gap ID | Severity | Requirement ID(s) | File:Line | Evidence | Description | Fix Recommendation |
|---|---|---|---|---|---|---|
| NONE | LOW | N/A | N/A | Full suite, race, vet, conformance vectors, and split-registry coverage pass | No open blockers detected in this audit pass. | Keep registry/matrix parity and conformance vector execution as CI gates. |

## 2) Requirement architecture status

- Registry model is now split:
  - `REQ_REGISTRY_NORMATIVE.md` (54 normative requirements)
  - `REQ_REGISTRY_POLICY.md` (32 policy requirements)
- Conformance harness validates coverage against the **union** of both registries.
- `REQ_ENFORCEMENT_MATRIX.md` includes explicit `domain` tags (`normative|policy`).

## 3) Matrix integrity report

- Missing REQ IDs: none
- Orphan matrix IDs: none
- Registry universe: 86 (normative 54, policy 32)
- Matrix universe: 86
- Domain-tagged matrix rows: complete
- Duplicate DET-REPLAY parent row: removed

## 4) Diagnostics/offset contract status

- Offset contract is now explicit: source-byte positions in original input.
- Surrogate and noncharacter string diagnostics report source-byte offsets, including second-escape offsets for malformed surrogate pairs.
- Wrapped error causes are preserved in formatted `jcserr` messages.

## 5) Vector integrity status

- `conformance/vectors/*.jsonl` is now executable and CI-gated via `TestConformanceVectors`.
- Corpus includes canonical and non-canonical behavior plus offset expectation vectors.

## 6) Coverage summary metrics

- Total requirements: 86
- Normative: 54
- Policy: 32
- Fully covered (impl + tests): 86
- Partial: 0
- Missing: 0

## 7) Final verdict

PASS (publication-readiness remediation phases completed with executable evidence)

## Execution evidence

- `go test ./... -count=1 -timeout=20m` -> PASS
- `go test ./... -race -count=1 -timeout=25m` -> PASS
- `go vet ./...` -> PASS
- `go test ./conformance -count=1 -timeout=10m` -> PASS (includes `TestConformanceVectors`)
