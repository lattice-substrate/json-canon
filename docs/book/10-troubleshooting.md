[Previous: Operations and Runbooks](09-operations-runbooks.md) | [Book Home](README.md) | [Next: Contributing, Traceability, and Change Control](11-contributing-traceability-and-change-control.md)

# Chapter 11: Troubleshooting

This chapter covers common failure patterns and quick diagnostics.

## Docker Permission Denied in Preflight

Symptoms:

- preflight reports container daemon unreachable,
- image checks fail with `permission denied` on `/var/run/docker.sock`.

Checks:

```bash
docker info
id
groups
ls -l /var/run/docker.sock
```

Resolution is environment-specific, but usually means fixing operator access to
the container daemon and re-running preflight.

## Missing VM Domain or Snapshot

Symptoms:

- `libvirt domain missing/unreachable`,
- `snapshot-cold` missing.

Checks:

```bash
virsh -c qemu:///system list --all
virsh -c qemu:///system snapshot-list <domain>
```

Fix VM inventory/snapshot state before rerunning harness.

## SSH Reachability Failures

Symptoms:

- preflight cannot reach VM SSH target.

Checks:

```bash
ssh -o BatchMode=yes root@<vm-hostname> true
```

Validate network routing, host keys, and credentials.

## Evidence Gate Failures

Symptoms:

- `TestOfflineReplayEvidenceReleaseGate` fails,
- `verify-evidence` rejects metadata.

Checks:

1. confirm evidence file path,
2. confirm matching matrix/profile env vars,
3. confirm evidence generated by current harness run.

## Conformance/Traceability Failures

Symptoms:

- `go test ./conformance -v` fails requirement, symbol, or citation checks.

Checks:

1. update registries and enforcement matrix with behavior changes,
2. ensure referenced symbols/tests still exist,
3. ensure citations cover all normative IDs.

[Previous: Operations and Runbooks](09-operations-runbooks.md) | [Book Home](README.md) | [Next: Contributing, Traceability, and Change Control](11-contributing-traceability-and-change-control.md)
